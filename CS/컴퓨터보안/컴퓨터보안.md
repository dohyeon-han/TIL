# 컴퓨터 보안

## 컴퓨터 보호와 네트워크 보호의 개념
- NIST Computer Security Handbook에서는 다음과 같이 정의하고 있다.
- "the protection affored to an automated information system in order to attain the applicable objectives of preserving the integrity, availability and confidentiality of information system resources" 
- 정보 시스템 자원의 무결성, 가용성 및 기밀성을 보존하는 적용 가능한 목표를 달성하기 위해 자동화된 정보 시스템에 대한 보호

### Confidentiality(기밀성)
- Data confidentiality : 허가 받지 않은 사람이 정보에 접근할 수 없도록 보장한다.
- Privacy(사생활) : 개인이 자신과 관련된 정보를 수집 및 저장할 수 있으며, 그 정보가 누가 누구에게 공개될 수 있는지 통제하거나 영향을 미칠 수 있도록 보장한다.

### Integrity(무결성)
- Data integrity : 승인된 사람만 정보의 변경이 가능하도록 보장한다.
- System integrity : 의도된 방식으로만 시스템이 작동하도록 보장한다.

### Availability(가용성)
- 승인된 유저를 거부해서는 안된다.

### 정보보호의 주요 요소
- Confidentiality, Integrity, Availability, Authenticity(확실성), Accountability(책임추적성)

### Passive Attacks
- 시스템의 상태, 자원의 변화가 없는 공격이다
- 도청, 트래픽 분석 등이 있다.

### Active Attacks
- 시스템의 상태, 자원의 변화를 주는 공격이다.
- 가장(masquerade), 메시지 변경, 재연, 서비스 거부(DoS) 등이 있다.

### Attack Surfaces
- 공격자가 악용 혹은 도달 가능한 시스템의 취약점
- Network attack surface, Software attack surface, Hunam attack surface로 나뉜다.

### Attack Tree
- 공격의 목표를 루트 노드로 하여 공격의 경로를 계층적으로 나타낸 트리이다.

### Access Control(접근 제어)
- 공격을 방어하는 가장 좋은 방법은 초기 접근을 막는 것이다.
- 접근 제어는 무단 공개 및 부적절한 수정으로부터 데이터와 리소스를 보호하는 프로세스이다.

### 접근 제어 정책
1. Discretionary Access Control(DAC, 임의적 접근 제어)
    - 정보의 소유자가 접근 권한을 설정한다.
    - 세분화된 제어로 융통성 있는 제어가 가능하지만, 사용자가 제어를 담당하므로 트로이 목마와 같은 많은 위협에 시스템이 노출될 가능성이 크다.
2. Mandatory Access Control(MAC, 강제적 접근 제어)
    - 접근 권한이 사용자가 아닌 시스템에 의해 결정된다.
    - Bell-LaPadula model의 경우 두가지 속성을 가지고 있다.
        - no read-up : 높은 권한의 정보를 읽을 수 없다.
        - no write-down : 높은 권한의 정보에 낮은 권한의 정보를 쓸 수 없다.

### 접근 제어 모델
1. Access Control Matrices(ACM)
    - 객체(object)와 주체(subject) 간의 관계를 테이블로 저장한다.
    - 주체와 객체를 새로 만들거나 삭제할 때 신중해야 하므로 코드가 복잡해질 수 있고 대부분의 항목이 비어있거나 같기 때문에 비효율적이다.
2. Access Control Lists(ACL)
    - 객체에 접근 가능한 주체들을 리스트로 관리한다.
    - UNIX가 해당 방식을 사용한다.
3. Capabilities(Capabilities Lists, CL)
    - ACL과 반대로 주체가 접근 가능한, 객체들을 리스트로 관리한다.
    - 안드로이드 앱 권한 설정이 해당 방식을 사용한다.
4. Role-based Accass Control(RBAC)
    - 접근 권한을 역할 별로 나눈다.
    - 객체와 주체 사이에 역할을 두어 접근 허가 자격의 개수를 줄일 수 있기 때문에 관리 및 권한 변경이 편리하다.

## 정수론

### Divisibility
- a = mb(b!=0 이고 a,b,m은 정수)이면 b|a로 표현할 수 있다. 

### Modular Arithmetic
- (a mod n) = (b mod n)이면 a ≡ b (mod n)이다.

### Extended Euclidean Algorithm
- 1759x + 550y = GCD(1759, 550) = 1이라고 할 때 x와 y를 구할 수 있다.
    - (위의 식에서, 아래식을 적절하게 곱하여 뺀다.)
    - 1759\*1 + 550\*0 = 1759
    - 1759\*0 + 550\*1 = 550 --- (*3)
    - 1759\*1 + 550\*-3 = 109 --- (*5)
    - 1759\*-5 + 550\*16 = 5 --- (*21)
    - 1759\*106 + 550\*-339 = 4 --- (*1)
    - 1759\*-111 + 550\*355 = 1
- 곱셈의 역원을 구할 때 사용할 수 있다.
- 1759*(-111) ≡ 1 (mod 550), 550*355 ≡ 1 (mod 1759)

### 페르마의 소정리
- p는 소수이고 p와 서로소인 a에 대하여
    - a<sup>p-1</sup> ≡ 1 (mod p)
- 다른 형태
    - a<sup>p</sup> ≡ a (mod p) (p는 소수이고 a는 정수이다.)

### 오일러 정리
- 페르마의 소정리를 일반화한 것이다.
    - a<sup>ϕ(n)</sup> ≡ 1 (mod n) (a와 n은 서로소)

### 소수 테스트
- 하니씩 나눠 보기
- 페르마 테스트
    - p가 소수라면 a<sup>p</sup> ≡ a (mod p)를 만족하므로 대우 명제를 통해 a<sup>p</sup> ≡ a (mod p)가 아닌 a를 찾으면 p는 소수가 아니다.
- 밀러 라빈 테스트
    - 페르마 테스트, NSR 테스트를 활용한 알고리즘이다.

### 이산 로그 문제
- a<sup>x</sup> mod p를 구하는 것은 쉽지만 log<sub>a.p</sub> y를 구하는 것은 어렵다는 것을 이용한 문제로 소인수 분해와 함께 암호에 자주 사용된다.

## 멜웨어(Malware)
- malicious software의 줄임말로 악의적인 기능을 수행하기 설계된 소프트웨어를 의미한다.
- 의도되지 않은 스프트웨어 결함인 버그와는 구분된다.
### 형태
- 트로이 목마(Trojan hores) : 정상 프로그램으로 위장한 악성 프로그램
- Rootkit : 시스템의 루트 권한을 획득하고 악성코드의 존재를 숨김
- Backdoor : 정상적인 인증 절차를 우회라여 시스템에 접근
- Virus : 정상으로 보이는 프로그램 안에 숨어 자신을 복제하여 다른 프로그램을 감염시켜 악성 행위를 수행하는 악성 프로그램
- Worm : 네트워크를 통해 스스로 전파, 복제되면서 주로 네트워크에 피해를 줌
- Ransomware : 피해자의 기기 및 데이터를 장악해 접근을 불가능하게 만들고 복원하기 위해 비용을 요구함

## 다크넷, 딥웹, 다크웹
### Darknet
- 접근을 위해서는 특정한 소프트웨어가 필요한 오버레이 네트워크이다.
- 대표적으로 Tor가 있는데 사용자의 네트워크 사용 패턴 및 위치를 숨길 수 있다.

### Deep Web
- 일반적인 검색 엔진으로는 드러나지 않는 웹 컨텐츠이다.
- 웹 메일, OTT 서비스 등이 이에 포함된다.
- 딥웹의 일부가 다크웹을 사용된다.
- 다크웹 상에 불법 정보를 사고 파는 블랙 마켓이 운영된다.
- 다크넷을 이용하기 때문에 Tor 들의 브라우저를 통해 접근해야 한다.

## 0-day, APT
### 0-day
- 해당 소프트웨어의 패치가 나오기 전에 실행되는 공격이다.
- 해당 소프트웨어 개발자도 모르는 취약점이다.

### APT
- 다양한 보안 위협을 특정 대상에게 지속적으로 가하는 일련의 행위를 말한다.
- 원래는 군사 통신 용어였으나 민간부분으로 전달되면서 의미가 달라졌다.

## 고전 암호 기술

### Symmetric Cipher Model(대칭 암호 모델)
- 암호화와 복호화가 같은 키를 이용해 진행되는 암호이다.
- 강력한 암호화 알고리즘이 필요하고 키를 양쪽이 갖고 있어야한다.

### Caesar Cipher
- 간단한 초기 암호화 알고리즘으로 알파벳을 일정 수만큼 움직여 암호화한다.
- meet me -> phhw ph

### Monoalphabetic Cipher
- 원소를 다른 원소와 1대1로 대응 시킨다.
- Ceaser Cipher가 이에 포함된다.

#### 문제점
- 알파벳의 경우 26!가지수가 나와 안전해 보이지만 많이 사용하는 알파벳의 통계를 통해 유추가 가능하다.

#### 대응
1. 글자를 일정 크기 단위로 암호화 한다.
    - Playfair Cipher : 두 알파벳을 다른 두 알파벳으로 치환하는 방식의 알고리즘이다.
2. 치환되는 글자이 여러가지가 되도록 한다.
    
### Polyalphabetic Cipher
- 하나의 알파벳이 치환되는 알파벳이 여러개가 되도록 한다.

#### Vigenere Cipher
- 키를 사용하여 해당 키만큼 알파벳을 이동시킨다. 키가 모자를 경우 키를 반복 사용한다.
- 키가 a이면 0, b이면 1, ... 씩 이동한다.
    - key : deceptivedeceptivedeceptive  
    - plaintext : wearediscoveredsaveyourself
    - ciphertest : zicvtwqngrzgvtwavzhcqyglmgj

#### Vigenere Autokey System
- Vigenere Cipher는 키의 사이클을 유추해서 통계를 분석하는 것이 가능하다.
- 위의 예시의 경우 키가 d,e,c 등 각 자리 별로 통계를 내서 유추할 수 있기 때문에 키를 반복사용하지 않고 평문을 key로 사용하여 암호하한다.
- key : deceptivewearediscoveredsav

#### 문제점
- 키가 랜덤하지 않기 때문에 여전히 빈도 수에는 차이가 생긴다.

### Vernam Cipher
- 비트 단위로 XOR하여 암호화, 복호화를 한다. 또한 키의 길이를 길게, 통계적 연관성이 없게하여 분석을 어렵게한다.

#### One-Time Pad
- Vernam Cipher의 예로 사이클이 없는 키를 평문의 길이만큼 길게하여 암호화한다.
- 사이클이 없는 랜덤한 키이기 때문에 이상적인 암호화 방식이다.
- 하지만 그만큼 긴 길이의 랜덤한 키를 매번 새로 사용하는 것은 어렵다. 따라서 평문의 길이가 짧고 높은 안전성이 필요한 곳에 사용한다.

### Transposition Cipher
- Rali Fence Cipher : 글자를 세로로 적는 방식의 암호화이다.
    - mem
    - ete -> meet me
- Row Transposition Cipher : 정사각형 틀에 가로로 적어 키의 순서대로 하나의 열씩 나열하는 암호화 방식이다.

### Steganography
- 일반적인 미디어 파일에 데이터를 숨기는 기술이다.
- 미디어 파일의 작은 변화는 파악하기 쉽지 않아 꾸준히 사용되고 있다.
#### 장점
- 소통을 하고 있다는 사실을 숨길 수 있다.
#### 단점
- 전송하는 양에 비해 정보의 양이 적다.
- 숨겼다는 사실이 드러나면 쓸모 없어진다.

## Block Ciphers
- Symmetric Encryption은 두 가지로 나눌 수 있다.

### 1. Stream Cipher
- 하나의 비트 혹은 바이트를 다른 것으로 치환한다.
- 이상적인 방식으로 One-time pad가 있지만 이를 활용하기는 힘들어서 랜덤한 seed 값을 활용해 긴 키를 생성하여 사용한다.

### 2. Block Cipher
- 기존의 playfair에서는 두 글자씩 암호화를 하였다. 이를 확장에서 일정 크기의 평문을 한꺼번에 암호화한다.

### Feistel Cipher
- block cipher의 일종으로, 특정 계산을 반복하여 암호화한다.
- 이 계산을 라운드 함수라하고 라운드에는 치환(substitution)과 전치(permutation)가 사용된다.
- DES가 feistel 구조를 가진다.



